spring.application.name=librarian-app
server.port=8083
spring.profiles.active=multidb
# Default datasource (libbook)
spring.datasource.libbook.url=jdbc:mysql://localhost:3306/libbook?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.libbook.username=root
spring.datasource.libbook.password=Mysql
spring.datasource.libbook.driver-class-name=com.mysql.cj.jdbc.Driver

# Second datasource (libdemo)
spring.datasource.libdemo.url=jdbc:mysql://localhost:3306/libdemo?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.libdemo.username=root
spring.datasource.libdemo.password=Mysql
spring.datasource.libdemo.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true

# Libbook JPA properties
spring.jpa.libbook.hibernate.ddl-auto=update
spring.jpa.libbook.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Libdemo JPA properties
spring.jpa.libdemo.hibernate.ddl-auto=update
spring.jpa.libdemo.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Kafka properties
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.retries=3
spring.kafka.producer.properties.linger.ms=10
# Allow connection failures without blocking startup
spring.kafka.properties.connections.max.idle.ms=540000
spring.kafka.listener.ack-mode=manual

# Logging
logging.level.org.apache.kafka.clients.consumer=DEBUG
logging.level.org.apache.kafka.clients.producer=DEBUG
logging.level.com.example.librarian.consumer=DEBUG
logging.level.com.example.librarian.outbox=DEBUG

# Scheduling
# No explicit property needed; @EnableScheduling will activate it
